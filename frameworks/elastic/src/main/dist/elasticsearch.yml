discovery.zen.ping.unicast.hosts:
  - "master-0-node.{{FRAMEWORK_HOST}}:{{MASTER_NODE_TRANSPORT_PORT}}"
  - "master-1-node.{{FRAMEWORK_HOST}}:{{MASTER_NODE_TRANSPORT_PORT}}"
  - "master-2-node.{{FRAMEWORK_HOST}}:{{MASTER_NODE_TRANSPORT_PORT}}"
discovery.zen.minimum_master_nodes: 2
network.bind_host:
  - {{MESOS_CONTAINER_IP}}
  - _local_
network.publish_host:
  - {{TASK_NAME}}.{{FRAMEWORK_HOST}}
  - _local_
cluster.name: {{CLUSTER_NAME}}
node.name: {{TASK_NAME}}
path.data: "container-path/data"
path.logs: "container-path/logs"
http.port: {{PORT_HTTP}}
transport.tcp.port: {{PORT_TRANSPORT}}
bootstrap.memory_lock: false
metrics.statsd.host: {{STATSD_UDP_HOST}}
metrics.statsd.port: {{STATSD_UDP_PORT}}

{{#DETECT_ZONES}}
node.attr.zone: {{ZONE}}
cluster.routing.allocation.awareness.attributes: zone
{{/DETECT_ZONES}}

{{#MASTER_ENABLED}}
gateway.expected_master_nodes: 3
gateway.expected_data_nodes: {{DATA_NODE_COUNT}}
gateway.recover_after_master_nodes: 3
gateway.recover_after_data_nodes: {{DATA_NODE_COUNT}}
gateway.recover_after_time: {{GATEWAY_RECOVER_AFTER_TIME}}
node.master: true
{{/MASTER_ENABLED}}
{{^MASTER_ENABLED}}
node.master: false
{{/MASTER_ENABLED}}
node.data: {{DATA_ENABLED}}
node.ingest: {{INGEST_ENABLED}}

{{#ELASTIC_ENABLE_TLS}}
# https://www.elastic.co/guide/en/elasticsearch/reference/5.5/security-settings.html#ssl-tls-settings
xpack.security.enabled: true
xpack.ssl.key: {{MESOS_SANDBOX}}/node.key
xpack.ssl.certificate: {{MESOS_SANDBOX}}/node.crt
xpack.ssl.certificate_authorities: [ "{{MESOS_SANDBOX}}/node.ca" ]
xpack.ssl.client_authentication: optional
# Node to node encryption
xpack.security.transport.ssl.enabled: true
# Client encryption
xpack.security.http.ssl.enabled: true
xpack.security.http.ssl.client_authentication: none
{{/ELASTIC_ENABLE_TLS}}

{{#SCRIPT_ALLOWED_CONTEXTS}}
script.allowed_contexts: {{SCRIPT_ALLOWED_CONTEXTS}}
{{/SCRIPT_ALLOWED_CONTEXTS}}
{{#SCRIPT_ALLOWED_TYPES}}
script.allowed_types: {{SCRIPT_ALLOWED_TYPES}}
{{/SCRIPT_ALLOWED_TYPES}}
{{#REPOSITORIES_URL_ALLOWED_URLS}}
repositories.url.allowed_urls: {{REPOSITORIES_URL_ALLOWED_URLS}}
{{/REPOSITORIES_URL_ALLOWED_URLS}}
network.tcp.no_delay: {{NETWORK_TCP_NO_DELAY}}
network.tcp.keep_alive: {{NETWORK_TCP_KEEP_ALIVE}}
network.tcp.reuse_address: {{NETWORK_TCP_REUSE_ADDRESS}}
{{#NETWORK_TCP_SEND_BUFFER_SIZE}}
network.tcp.send_buffer_size: {{NETWORK_TCP_SEND_BUFFER_SIZE}}
{{/NETWORK_TCP_SEND_BUFFER_SIZE}}
{{#NETWORK_TCP_RECEIVE_BUFFER_SIZE}}
network.tcp.receive_buffer_size: {{NETWORK_TCP_RECEIVE_BUFFER_SIZE}}
{{/NETWORK_TCP_RECEIVE_BUFFER_SIZE}}
transport.tcp.connect_timeout: {{TRANSPORT_TCP_CONNECT_TIMEOUT}}
transport.tcp.compress: {{TRANSPORT_TCP_COMPRESS}}
transport.ping_schedule: {{TRANSPORT_PING_SCHEDULE}}
http.enabled: {{HTTP_ENABLED}}
http.max_content_length: {{HTTP_MAX_CONTENT_LENGTH}}
http.max_initial_line_length: {{HTTP_MAX_INITIAL_LINE_LENGTH}}
http.max_header_size: {{HTTP_MAX_HEADER_SIZE}}
http.compression: {{HTTP_COMPRESSION}}
http.compression_level: {{HTTP_COMPRESSION_LEVEL}}
http.cors.enabled: {{HTTP_CORS_ENABLED}}
{{#HTTP_CORS_ALLOW_ORIGIN}}
http.cors.allow-origin: {{HTTP_CORS_ALLOW_ORIGIN}}
{{/HTTP_CORS_ALLOW_ORIGIN}}
http.cors.max-age: {{HTTP_CORS_MAX_AGE}}
http.cors.allow-methods: {{HTTP_CORS_ALLOW_METHODS}}
http.cors.allow-headers: {{HTTP_CORS_ALLOW_HEADERS}}
http.cors.allow-credentials: {{HTTP_CORS_ALLOW_CREDENTIALS}}
http.detailed_errors.enabled: {{HTTP_DETAILED_ERRORS_ENABLED}}
http.pipelining: {{HTTP_PIPELINING}}
http.pipelining.max_events: {{HTTP_PIPELINING_MAX_EVENTS}}
http.content_type.required: {{HTTP_CONTENT_TYPE_REQUIRED}}
{{#THREAD_POOL_SEARCH_SIZE}}
thread_pool.search.size: {{THREAD_POOL_SEARCH_SIZE}}
{{/THREAD_POOL_SEARCH_SIZE}}
thread_pool.search.queue_size: {{THREAD_POOL_SEARCH_QUEUE_SIZE}}
{{#THREAD_POOL_INDEX_SIZE}}
thread_pool.index.size: {{THREAD_POOL_INDEX_SIZE}}
{{/THREAD_POOL_INDEX_SIZE}}
thread_pool.index.queue_size: {{THREAD_POOL_INDEX_QUEUE_SIZE}}
{{#THREAD_POOL_GET_SIZE}}
thread_pool.get.size: {{THREAD_POOL_GET_SIZE}}
{{/THREAD_POOL_GET_SIZE}}
thread_pool.get.queue_size: {{THREAD_POOL_GET_QUEUE_SIZE}}
{{#THREAD_POOL_BULK_SIZE}}
thread_pool.bulk.size: {{THREAD_POOL_BULK_SIZE}}
{{/THREAD_POOL_BULK_SIZE}}
thread_pool.bulk.queue_size: {{THREAD_POOL_BULK_QUEUE_SIZE}}
{{#THREAD_POOL_LISTENER_SIZE}}
thread_pool.listener.size: {{THREAD_POOL_LISTENER_SIZE}}
{{/THREAD_POOL_LISTENER_SIZE}}
{{#THREAD_POOL_LISTENER_QUEUE_SIZE}}
thread_pool.listener.queue_size: {{THREAD_POOL_LISTENER_QUEUE_SIZE}}
{{/THREAD_POOL_LISTENER_QUEUE_SIZE}}
{{#THREAD_POOL_WARMER_CORE}}
thread_pool.warmer.core: {{THREAD_POOL_WARMER_CORE}}
{{/THREAD_POOL_WARMER_CORE}}
{{#THREAD_POOL_WARMER_MAX}}
thread_pool.warmer.max: {{THREAD_POOL_WARMER_MAX}}
{{/THREAD_POOL_WARMER_MAX}}
thread_pool.warmer.keep_alive: {{THREAD_POOL_WARMER_KEEP_ALIVE}}
{{#THREAD_POOL_SNAPSHOT_CORE}}
thread_pool.snapshot.core: {{THREAD_POOL_SNAPSHOT_CORE}}
{{/THREAD_POOL_SNAPSHOT_CORE}}
{{#THREAD_POOL_SNAPSHOT_MAX}}
thread_pool.snapshot.max: {{THREAD_POOL_SNAPSHOT_MAX}}
{{/THREAD_POOL_SNAPSHOT_MAX}}
thread_pool.snapshot.keep_alive: {{THREAD_POOL_SNAPSHOT_KEEP_ALIVE}}
{{#THREAD_POOL_REFRESH_CORE}}
thread_pool.refresh.core: {{THREAD_POOL_REFRESH_CORE}}
{{/THREAD_POOL_REFRESH_CORE}}
{{#THREAD_POOL_REFRESH_MAX}}
thread_pool.refresh.max: {{THREAD_POOL_REFRESH_MAX}}
{{/THREAD_POOL_REFRESH_MAX}}
thread_pool.refresh.keep_alive: {{THREAD_POOL_REFRESH_KEEP_ALIVE}}
{{#THREAD_POOL_GENERIC_CORE}}
thread_pool.generic.core: {{THREAD_POOL_GENERIC_CORE}}
{{/THREAD_POOL_GENERIC_CORE}}
{{#THREAD_POOL_GENERIC_MAX}}
thread_pool.generic.max: {{THREAD_POOL_GENERIC_MAX}}
{{/THREAD_POOL_GENERIC_MAX}}
thread_pool.generic.keep_alive: {{THREAD_POOL_GENERIC_KEEP_ALIVE}}
{{#INDICES_BREAKER_TOTAL_LIMIT}}
indices.breaker.total.limit: {{INDICES_BREAKER_TOTAL_LIMIT}}
{{/INDICES_BREAKER_TOTAL_LIMIT}}
{{#INDICES_BREAKER_FIELDDATA_LIMIT}}
indices.breaker.fielddata.limit: {{INDICES_FIELDDATA_LIMIT}}
{{/INDICES_BREAKER_FIELDDATA_LIMIT}}
{{#INDICES_BREAKER_FIELDDATA_OVERHEAD}}
indices.breaker.fielddata.overhead: {{INDICES_FIELDDATA_OVERHEAD}}
{{/INDICES_BREAKER_FIELDDATA_OVERHEAD}}
{{#NETWORK_BREAKER_INFLIGHT_REQUESTS_LIMIT}}
network.breaker.inflight_requests.limit: {{NETWORK_BREAKER_INFLIGHT_REQUESTS_LIMIT}}
{{/NETWORK_BREAKER_INFLIGHT_REQUESTS_LIMIT}}
{{#NETWORK_BREAKER_INFLIGHT_REQUESTS_OVERHEAD}}
network.breaker.inflight_requests.overhead: {{NETWORK_BREAKER_INFLIGHT_REQUESTS_OVERHEAD}}
{{/NETWORK_BREAKER_INFLIGHT_REQUESTS_OVERHEAD}}
{{#SCRIPT_MAX_COMPILATION_PER_MINUTE}}
script.nax_compilation_per_minute: {{SCRIPT_MAX_COMPILATION_PER_MINUTE}}
{{/SCRIPT_MAX_COMPILATION_PER_MINUTE}}
{{#INDICES_FIELDDATA_CACHE_SIZE}}
indices.fielddata.cache.size: {{INDICES_FIELDDATA_CACHE_SIZE}}
{{/INDICES_FIELDDATA_CACHE_SIZE}}
{{#INDICES_QUERIES_CACHE_SIZE}}
indices.queries.cache.size: {{INDICES_QUERIES_CACHE_SIZE}}
{{/INDICES_QUERIES_CACHE_SIZE}}
{{#INDICES_MEMORY_INDEX_BUFFER_SIZE}}
indices.memory.index_buffer_size: {{INDICES_MEMORY_INDEX_BUFFER_SIZE}}
{{/INDICES_MEMORY_INDEX_BUFFER_SIZE}}
{{#INDICES_MEMORY_MIN_INDEX_BUFFER_SIZE}}
indices.memory.min_index_buffer_size: {{INDICES_MEMORY_MIN_INDEX_BUFFER_SIZE}}
{{/INDICES_MEMORY_MIN_INDEX_BUFFER_SIZE}}
{{#INDICES_MEMORY_MAX_INDEX_BUFFER_SIZE}}
indices.memory.max_index_buffer_size: {{INDICES_MEMORY_MAX_INDEX_BUFFER_SIZE}}
{{/INDICES_MEMORY_MAX_INDEX_BUFFER_SIZE}}
{{#INDICES_RECOVERY_MAX_BYTES_PER_SEC}}
indices.recovery.max_bytes_per_sec: {{INDICES_RECOVERY_MAX_BYTES_PER_SEC}}
{{/INDICES_RECOVERY_MAX_BYTES_PER_SEC}}
{{#SEARCH_REMOTE_CONNECTIONS_PER_CLUSTER}}
search.remote.connections_per_cluster: {{SEARCH_REMOTE_CONNECTIONS_PER_CLUSTER}}
{{/SEARCH_REMOTE_CONNECTIONS_PER_CLUSTER}}
{{#SEARCH_REMOTE_INITIAL_CONNECT_TIMEOUT}}
search.remote.initial_connect_timeout: {{SEARCH_REMOTE_INITIAL_CONNECT_TIMEOUT}}
{{/SEARCH_REMOTE_INITIAL_CONNECT_TIMEOUT}}
{{#SEARCH_REMOTE_CONNECT}}
search.remote.connect: {{SEARCH_REMOTE_CONNECT}}
{{/SEARCH_REMOTE_CONNECT}}
{{#INDICES_QUERY_BOOL_MAX_CLAUSE_COUNT}}
indices.query.bool.max_clause_count: {{INDICES_QUERY_BOOL_MAX_CLAUSE_COUNT}}
{{/INDICES_QUERY_BOOL_MAX_CLAUSE_COUNT}}
{{#DISCOVERY_ZEN_PING_UNICAST_HOSTS_RESOLVE_TIMEOUT}}
discovery.zen.ping.unicast.hosts.resolve_timeout: {{DISCOVERY_ZEN_PING_UNICAST_HOSTS_RESOLVE_TIMEOUT}}
{{/DISCOVERY_ZEN_PING_UNICAST_HOSTS_RESOLVE_TIMEOUT}}
{{#DISCOVERY_ZEN_FD_PING_INTERVAL}}
discovery.zen.fd.ping_interval: {{DISCOVERY_ZEN_FD_PING_INTERVAL}}
{{/DISCOVERY_ZEN_FD_PING_INTERVAL}}
{{#DISCOVERY_ZEN_FD_PING_TIMEOUT}}
discovery.zen.fd.ping_timeout: {{DISCOVERY_ZEN_FD_PING_TIMEOUT}}
{{/DISCOVERY_ZEN_FD_PING_TIMEOUT}}
{{#DISCOVERY_ZEN_FD_PING_RETRIES}}
discovery.zen.fd.ping_retries: {{DISCOVERY_ZEN_FD_PING_RETRIES}}
{{/DISCOVERY_ZEN_FD_PING_RETRIES}}
{{#DISCOVERY_ZEN_NO_MASTER_BLOCK}}
discovery.zen.no_master_block: {{DISCOVERY_ZEN_NO_MASTER_BLOCK}}
{{/DISCOVERY_ZEN_NO_MASTER_BLOCK}}
{{#CLUSTER_BLOCKS_READ_ONLY}}
cluster.blocks.read_only: {{CLUSTER_BLOCKS_READ_ONLY}}
{{/CLUSTER_BLOCKS_READ_ONLY}}
{{#CLUSTER_BLOCKS_READ_ONLY_ALLOW_DELETE}}
cluster.blocks.read_only_allow_delete: {{CLUSTER_BLOCKS_READ_ONLY_ALLOW_DELETE}}
{{/CLUSTER_BLOCKS_READ_ONLY_ALLOW_DELETE}}
{{#CLUSTER_INDICES_TOMBSTONES_SIZE}}
cluster.indices.tombstones.size: {{CLUSTER_INDICES_TOMBSTONES_SIZE}}
{{/CLUSTER_INDICES_TOMBSTONES_SIZE}}
{{#INDEX_ROUTING_ALLOCATION_TOTAL_SHARDS_PER_NODE}}
index.routing.allocation.total_shards_per_node: {{INDEX_ROUTING_ALLOCATION_TOTAL_SHARDS_PER_NODE}}
{{/INDEX_ROUTING_ALLOCATION_TOTAL_SHARDS_PER_NODE}}
{{#CLUSTER_ROUTING_ALLOCATION_TOTAL_SHARDS_PER_NODE}}
cluster.routing.allocation.total_shards_per_node: {{CLUSTER_ROUTING_ALLOCATION_TOTAL_SHARDS_PER_NODE}}
{{/CLUSTER_ROUTING_ALLOCATION_TOTAL_SHARDS_PER_NODE}}
{{#CLUSTER_ROUTING_ALLOCATION_AWARENESS_ATTRIBUTES}}
cluster.routing.allocation.awareness.attributes: {{CLUSTER_ROUTING_ALLOCATION_AWARENESS_ATTRIBUTES}}
{{/CLUSTER_ROUTING_ALLOCATION_AWARENESS_ATTRIBUTES}}
{{#CLUSTER_ROUTING_ALLOCATION_DISK_THRESHOLD_ENABLED}}
cluster.routing.allocation.disk.threshold_enabled: {{CLUSTER_ROUTING_ALLOCATION_DISK_THRESHOLD_ENABLED}}
{{/CLUSTER_ROUTING_ALLOCATION_DISK_THRESHOLD_ENABLED}}
{{#CLUSTER_ROUTING_ALLOCATION_DISK_WATERMARK_LOW}}
cluster.routing.allocation.disk.watermark.low: {{CLUSTER_ROUTING_ALLOCATION_DISK_WATERMARK_LOW}}
{{/CLUSTER_ROUTING_ALLOCATION_DISK_WATERMARK_LOW}}
{{#CLUSTER_ROUTING_ALLOCATION_DISK_WATERMARK_HIGH}}
cluster.routing.allocation.disk.watermark.high: {{CLUSTER_ROUTING_ALLOCATION_DISK_WATERMARK_HIGH}}
{{/CLUSTER_ROUTING_ALLOCATION_DISK_WATERMARK_HIGH}}
{{#CLUSTER_INFO_UPDATE_INTERVAL}}
cluster.info.update.interval: {{CLUSTER_INFO_UPDATE_INTERVAL}}
{{/CLUSTER_INFO_UPDATE_INTERVAL}}
{{#CLUSTER_ROUTING_ALLOCATION_DISK_INCLUDE_RELOCATIONS}}
cluster.routing.allocation.disk.include_relocations: {{CLUSTER_ROUTING_ALLOCATION_DISK_INCLUDE_RELOCATIONS}}
{{/CLUSTER_ROUTING_ALLOCATION_DISK_INCLUDE_RELOCATIONS}}
{{#CLUSTER_ROUTING_ALLOCATION_ENABLE}}
cluster.routing.allocation.enable: {{CLUSTER_ROUTING_ALLOCATION_ENABLE}}
{{/CLUSTER_ROUTING_ALLOCATION_ENABLE}}
{{#CLUSTER_ROUTING_ALLOCATION_NODE_CONCURRENT_INCOMING_RECOVERIES}}
cluster.routing.allocation.node_concurrent_incoming_recoveries: {{CLUSTER_ROUTING_ALLOCATION_NODE_CONCURRENT_INCOMING_RECOVERIES}}
{{/CLUSTER_ROUTING_ALLOCATION_NODE_CONCURRENT_INCOMING_RECOVERIES}}
{{#CLUSTER_ROUTING_ALLOCATION_NODE_CONCURRENT_RECOVERIES}}
cluster.routing.allocation.node_concurrent_recoveries: {{CLUSTER_ROUTING_ALLOCATION_NODE_CONCURRENT_RECOVERIES}}
{{/CLUSTER_ROUTING_ALLOCATION_NODE_CONCURRENT_RECOVERIES}}
{{#CLUSTER_ROUTING_ALLOCATION_NODE_CONCURRENT_OUTGOING_RECOVERIES}}
cluster.routing.allocation.node_concurrent_outgoing_recoveries: {{CLUSTER_ROUTING_ALLOCATION_NODE_CONCURRENT_OUTGOING_RECOVERIES}}
{{/CLUSTER_ROUTING_ALLOCATION_NODE_CONCURRENT_OUTGOING_RECOVERIES}}
{{#CLUSTER_ROUTING_ALLOCATION_NODE_INITIAL_PRIMARIES_RECOVERIES}}
cluster.routing.allocation.node_initial_primaries_recoveries: {{CLUSTER_ROUTING_ALLOCATION_NODE_INITIAL_PRIMARIES_RECOVERIES}}
{{/CLUSTER_ROUTING_ALLOCATION_NODE_INITIAL_PRIMARIES_RECOVERIES}}
{{#CLUSTER_ROUTING_ALLOCATION_SAME_SHARD_HOST}}
cluster.routing.allocation.same_shard.host: {{CLUSTER_ROUTING_ALLOCATION_SAME_SHARD_HOST}}
{{/CLUSTER_ROUTING_ALLOCATION_SAME_SHARD_HOST}}
{{#CLUSTER_ROUTING_REBALANCE_ENABLE}}
cluster.routing.rebalance.enable: {{CLUSTER_ROUTING_REBALANCE_ENABLE}}
{{/CLUSTER_ROUTING_REBALANCE_ENABLE}}
{{#CLUSTER_ROUTING_ALLOCATION_ALLOW_REBALANCE}}
cluster.routing.allocation.allow_rebalance: {{CLUSTER_ROUTING_ALLOCATION_ALLOW_REBALANCE}}
{{/CLUSTER_ROUTING_ALLOCATION_ALLOW_REBALANCE}}
{{#CLUSTER_ROUTING_ALLOCATION_CLUSTER_CONCURRENT_REBALANCE}}
cluster.routing.allocation.cluster_concurrent_rebalance: {{CLUSTER_ROUTING_ALLOCATION_CLUSTER_CONCURRENT_REBALANCE}}
{{/CLUSTER_ROUTING_ALLOCATION_CLUSTER_CONCURRENT_REBALANCE}}
{{#CLUSTER_ROUTING_ALLOCATION_BALANCE_SHARD}}
cluster.routing.allocation.balance.shard: {{CLUSTER_ROUTING_ALLOCATION_BALANCE_SHARD}}
{{/CLUSTER_ROUTING_ALLOCATION_BALANCE_SHARD}}
{{#CLUSTER_ROUTING_ALLOCATION_BALANCE_INDEX}}
cluster.routing.allocation.balance.index: {{CLUSTER_ROUTING_ALLOCATION_BALANCE_INDEX}}
{{/CLUSTER_ROUTING_ALLOCATION_BALANCE_INDEX}}
{{#CLUSTER_ROUTING_ALLOCATION_BALANCE_THRESHOLD}}
cluster.routing.allocation.balance.threshold: {{CLUSTER_ROUTING_ALLOCATION_BALANCE_THRESHOLD}}
{{/CLUSTER_ROUTING_ALLOCATION_BALANCE_THRESHOLD}}
{{#INDICES_REQUESTS_CACHE_SIZE}}
indices.requests.cache.size: {{INDICES_REQUESTS_CACHE_SIZE}}
{{/INDICES_REQUESTS_CACHE_SIZE}}

{{CUSTOM_YAML_BLOCK}}
